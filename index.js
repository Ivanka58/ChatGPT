const TelegramBot = require('telegram-bot-api');
const axios = require('axios');
const http = require('http'); // ÐœÐ¾Ð´ÑƒÐ»ÑŒ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ HTTP ÑÐµÑ€Ð²ÐµÑ€Ð°

// ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ñ‚Ð¾ÐºÐµÐ½ Ð±Ð¾Ñ‚Ð° Ð¸Ð· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
// Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð»Ð¸ BOT_TOKEN Ð² Environment Variables Ð½Ð° Render!
const bot = new TelegramBotprocess.env.BOT_TOKEN);

// --- Ð’ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ð¼ÐµÐ½ÑŽ ---
// ÐšÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹, Ð¿Ð¾ÐºÐ° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð½Ðµ Ð²Ñ‹Ð±ÐµÑ€ÐµÑ‚ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ
async function sendMainMenu(chatId, message = 'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:') {
  const keyboard = {
    reply_markup: {
      keyboard: [
        [{ text: 'ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ' }],
        [{ text: 'ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð°' }]
      ],
      resize_keyboard: true,
      one_time_keyboard: false // Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ false, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð° Ð¾ÑÑ‚Ð°Ð²Ð°Ð»Ð°ÑÑŒ Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹
    }
  };
  await bot.sendMessage(chatId, message, keyboard);
}

// --- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð° Ð¾Ñ‚ DuckDuckGo ---
// Ð­Ñ‚Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ API DuckDuckGo
async function getInstantAnswer(query) {
  try {
    // API DuckDuckGo Instant Answer
    // 'q': Ð·Ð°Ð¿Ñ€Ð¾Ñ
    // 'format': 'json' Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ JSON-Ð¾Ñ‚Ð²ÐµÑ‚Ð°
    // 'nohtml': 1 Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ HTML-Ñ‚ÐµÐ³Ð¾Ð² Ð¸Ð· Ð¾Ñ‚Ð²ÐµÑ‚Ð°
    // 'skip_disambig': 1 Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ñ Ð½ÐµÐ¾Ð´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸, ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð¿Ñ€ÑÐ¼Ð¾Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚
    const response = await axios.get('https://api.duckduckgo.com/', {
      params: {
        q: query,
        format: 'json',
        nohtml: 1,
        skip_disambig: 1
      }
    });

    const data = response.data;

    // ÐŸÑ€ÐµÐ´Ð¿Ð¾Ñ‡Ñ‚Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚: AbstractText (Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚)
    if (data.AbstractText) {
      return data.AbstractText;
    }
    // Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ AbstractText, Ð¸Ñ‰ÐµÐ¼ Ð² RelatedTopics (ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÐ¼Ñ‹)
    else if (data.RelatedTopics && data.RelatedTopics.length > 0) {
      // ÐŸÑ‹Ñ‚Ð°ÐµÐ¼ÑÑ Ð²Ð·ÑÑ‚ÑŒ Ñ‚ÐµÐºÑÑ‚ Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÐ²ÑÐ·Ð°Ð½Ð½Ð¾Ð¹ Ñ‚ÐµÐ¼Ñ‹
      const firstTopicText = data.RelatedTopics[0].Text;
      return firstTopicText || "ÐÐµ Ð¼Ð¾Ð³Ñƒ Ð½Ð°Ð¹Ñ‚Ð¸ Ð¿Ñ€ÑÐ¼Ð¾Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÑ„Ñ€Ð°Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ.";
    }
    // Ð•ÑÐ»Ð¸ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾
    else {
      return "ÐÐµ Ð¼Ð¾Ð³Ñƒ Ð½Ð°Ð¹Ñ‚Ð¸ Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ñ‚ÐµÐ¼Ð° ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡Ð½Ð° Ð¸Ð»Ð¸ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ ÑƒÑ‚Ð¾Ñ‡Ð½ÐµÐ½Ð¸Ñ.";
    }
  } catch (error) {
    console.error('ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð° Ð¾Ñ‚ DuckDuckGo:', error.message);
    return "ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¸ÑÐºÐµ Ð¾Ñ‚Ð²ÐµÑ‚Ð°. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð· Ð¿Ð¾Ð·Ð¶Ðµ.";
  }
}

// --- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ /start ---
bot.on('/start', async (msg) => {
  const chatId = msg.chat.id;

  // ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
  await bot.sendMessage(chatId, 'ÐŸÑ€Ð¸Ð²ÐµÑ‚, Ñ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ Ñ‡Ð°Ñ‚. Ð•ÑÐ»Ð¸ Ñ‚Ñ‹ ÑÑŽÐ´Ð° Ð¿Ð¾Ð¿Ð°Ð», Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ñ Ð»Ð¸Ñ‡Ð½Ð¾ Ð´Ð°Ð» Ñ‚ÐµÐ±Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿. ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÑŽ! Ð¢Ñ‹ Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹! Ð Ð°Ð·Ð²Ð»ÐµÐºÐ°Ð¹ÑÑ ðŸ’˜');

  // ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ
  await sendMainMenu(chatId);
});

// --- Ð•Ð´Ð¸Ð½Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð´Ð»Ñ Ð²ÑÐµÑ… Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ ---
// Ð­Ñ‚Ð¾Ñ‚ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ñ‚ÐµÐ¿ÐµÑ€ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð²ÑÑŽ Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð´Ð»Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ñ… ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²
bot.on('text', async (msg) => {
  const chatId = msg.chat.id;
  const text = msg.text;

  // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð¼ÐµÐ½ÑŽ
  if (text === 'ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ') {
    await bot.sendMessage(chatId, 'Ð—Ð°Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ:');
  } else if (text === 'ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð°') {
    // ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ñ Ð½Ð¾Ð²Ð¾Ð¹ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð¾Ð¹
    await bot.sendMessage(chatId, 'Ð’Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ! Ð’Ñ‹ Ñ‚Ð¾Ñ‡Ð½Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð°? Ð•Ñ‘ Ð½ÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ!', {
      reply_markup: {
        keyboard: [
          [{ text: 'Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ âŒ' }],
          [{ text: 'ÐžÑ‚Ð¼ÐµÐ½Ð°' }]
        ],
        resize_keyboard: true,
        one_time_keyboard: true // Ð­Ñ‚Ð° ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð° Ð¸ÑÑ‡ÐµÐ·Ð½ÐµÑ‚ Ð¿Ð¾ÑÐ»Ðµ Ð²Ñ‹Ð±Ð¾Ñ€Ð°
      }
    });
  }
  // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸
  else if (text === 'Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ âŒ') {
    // !!! Ð’ÐÐ˜ÐœÐÐÐ˜Ð•: Ð—Ð´ÐµÑÑŒ Ð½ÐµÑ‚ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸.
    // Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð»Ð¸ Ñ„Ð°Ð¹Ð» Ð´Ð»Ñ Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸,
    // Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑŽÐ´Ð° ÐºÐ¾Ð´ Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ.
    await bot.sendMessage(chatId, 'Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð° Ð¾Ñ‡Ð¸Ñ‰ÐµÐ½Ð°.');
    await sendMainMenu(chatId, 'Ð§Ñ‚Ð¾ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð´Ð°Ð»ÑŒÑˆÐµ?'); // Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ
  } else if (text === 'ÐžÑ‚Ð¼ÐµÐ½Ð°') {
    await bot.sendMessage(chatId, 'ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸ Ð´Ð¸Ð°Ð»Ð¾Ð³Ð° Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð°.');
    await sendMainMenu(chatId, 'Ð§Ñ‚Ð¾ Ð²Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð´Ð°Ð»ÑŒÑˆÐµ?'); // Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ
  }
  // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð»ÑŽÐ±Ð¾Ð³Ð¾ Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ Ñ‚ÐµÐºÑÑ‚Ð° ÐºÐ°Ðº Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ° Ðº DuckDuckGo
  else {
    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð½Ðµ Ð¿ÑƒÑÑ‚Ð¾Ð¹ Ð¿Ð¾ÑÐ»Ðµ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð¾Ð²
    if (text.trim().length > 0) {
      // ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ "Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚..." Ð´Ð»Ñ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð³Ð¾ Ð¾Ð¿Ñ‹Ñ‚Ð°
      await bot.sendChatAction(chatId, 'typing');
      const answer = await getInstantAnswer(text); // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¾Ñ‚ DuckDuckGo
      await bot.sendMessage(chatId, answer);
    } else {
      await bot.sendMessage(chatId, "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð²Ð¾Ð¿Ñ€Ð¾Ñ.");
    }
  }
});

// --- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ "Ð¯ Ð¶Ð¸Ð²!" ÐºÐ°Ð¶Ð´Ñ‹Ðµ 10 Ð¼Ð¸Ð½ÑƒÑ‚ ---
function sendAliveMessage() {
  // Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ ID Ð²Ð°ÑˆÐµÐ³Ð¾ Ð»Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ñ‡Ð°Ñ‚Ð° Ð¸Ð»Ð¸ Ñ‡Ð°Ñ‚Ð° Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°
  // Ð­Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»Ð¸Ñ‚ Ð²Ð°Ð¼ Ð·Ð½Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð±Ð¾Ñ‚ Ð°ÐºÑ‚Ð¸Ð²ÐµÐ½
  const chatId = 6749286679; // Ð’Ð°Ñˆ ID Ñ‡Ð°Ñ‚Ð°
  bot.sendMessage(chatId, 'Ð¯ Ð¶Ð¸Ð²!');
}

// --- Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð° ---
// Ð‘Ð¾Ñ‚ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ ÑÐ»ÑƒÑˆÐ°Ñ‚ÑŒ Ð²Ñ…Ð¾Ð´ÑÑ‰Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾Ñ‚ Telegram API
bot.start();

// --- ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ "Ð¯ Ð¶Ð¸Ð²!" ÐºÐ°Ð¶Ð´Ñ‹Ðµ 10 Ð¼Ð¸Ð½ÑƒÑ‚ ---
// Ð­Ñ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ð²Ð°Ñˆ Ð±Ð¾Ñ‚ Ð½Ðµ "Ð·Ð°ÑÐ½ÐµÑ‚" Ð½Ð° Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ñ… Ð¿Ð»Ð°Ð½Ð°Ñ… Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ñ…Ð¾ÑÑ‚Ð¸Ð½Ð³Ð¾Ð²,
// Ñ…Ð¾Ñ‚Ñ Render Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ñ‚Ð°ÐºÐ¸Ñ… ÑƒÑ…Ð¸Ñ‰Ñ€ÐµÐ½Ð¸Ð¹, Ð½Ð¾ ÑÑ‚Ð¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ° Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°.
setInterval(sendAliveMessage, 10 * 60 * 1000); // 10 Ð¼Ð¸Ð½ÑƒÑ‚ * 60 ÑÐµÐºÑƒÐ½Ð´ * 1000 Ð¼Ð¸Ð»Ð»Ð¸ÑÐµÐºÑƒÐ½Ð´

// --- HTTP ÑÐµÑ€Ð²ÐµÑ€ Ð´Ð»Ñ Render ---
// Render Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ð°Ñˆ Ð²ÐµÐ±-ÑÐµÑ€Ð²Ð¸Ñ ÑÐ»ÑƒÑˆÐ°Ð» Ð²Ñ…Ð¾Ð´ÑÑ‰Ð¸Ðµ HTTP-Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð½Ð° Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ð¼ Ð¿Ð¾Ñ€Ñ‚Ñƒ.
// ÐŸÐ¾Ñ€Ñ‚ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ `PORT`.
const PORT = process.env.PORT || 3000; // Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¿Ð¾Ñ€Ñ‚ Ð¾Ñ‚ Render Ð¸Ð»Ð¸ 3000 Ð´Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸

const server = http.createServer((req, res) => {
  // ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Render Ð·Ð½Ð°Ð», Ñ‡Ñ‚Ð¾ ÑÐµÑ€Ð²Ð¸Ñ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð¸ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚.
  res.writeHead(200, { 'Content-Type': 'text/plain' });
  res.end('Telegram Bot HTTP Server is running and responding to health checks.');
});

server.listen(PORT, () => {
  console.log(`HTTP server is running on port ${PORT}`);
});
